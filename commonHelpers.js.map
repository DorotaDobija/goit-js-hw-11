{"version":3,"file":"commonHelpers.js","sources":["../src/gallery.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst formEl = document.querySelector(\"form\");\nconst gallery = document.querySelector(\".gallery\")\n\n\nconst createUrl = (value) => {\n    const params = new URLSearchParams({\n    key: \"35719926-181ab604ec6a85b118ffdb3f0\",\n    q: value,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n    });\n    \n    return `https://pixabay.com/api/?${params}`;\n}\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nconst createListItemToAdd = (arr) => {\n    const image = arr.map(image => `<li>\n        <div class=\"card\">\n        <a href=\"${image.largeImageURL}\"><img class=\"gallery_img\" width =\"360px\" height=\"200px\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"></a>\n        <div class=\"information_box\">\n        <p class=\"information\"><span class=\"information_header\">Likes:</span>${image.likes}</p>\n        <p class=\"information\"><span class=\"information_header\">Views:</span>${image.views}</p>\n        <p class=\"information\"><span class=\"information_header\">Comments:</span>${image.comments}</p>\n        <p class=\"information\"><span class=\"information_header\">Downloads:</span>${image.downloads}</p></div>\n        </div>\n        </li>`).join('');\n    gallery.insertAdjacentHTML(\"afterbegin\", image);\n    lightbox.refresh();\n}\nconst clearFunc = (form) => {\n    form.reset();\n}\n\nconst sendRequest = (event) => {\n    gallery.textContent = \"\";\n    gallery.insertAdjacentHTML(\"afterbegin\", '<span class=\"loader\"></span>')\n    event.preventDefault();\n    const url = createUrl(event.target.elements[0].value);\n    fetch(url)\n        .then((res) => {\n            if (!res.ok) {\n                throw new Error(res.status)\n            }\n            return res.json();\n        })\n        .then((images) => {\n            \n            const imagesArr = images.hits;\n            console.log(imagesArr)\n            if (imagesArr.length === 0) {\n                gallery.textContent = \"\";\n                iziToast.error({\n                title: '',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight'\n});\n            }\n            \n            createListItemToAdd(imagesArr);\n            clearFunc(formEl);\n        })\n        .catch(error => console.log(error));\n}\n\n\n\nformEl.addEventListener(\"submit\", sendRequest)"],"names":["formEl","gallery","createUrl","value","lightbox","SimpleLightbox","createListItemToAdd","arr","image","clearFunc","form","sendRequest","event","url","res","images","imagesArr","iziToast","error"],"mappings":"sGAMA,MAAMA,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAU,SAAS,cAAc,UAAU,EAG3CC,EAAaC,GASR,4BARQ,IAAI,gBAAgB,CACnC,IAAK,qCACL,EAAGA,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAK,CAEwC,GAGvCC,EAAW,IAAIC,EAAe,YAAY,EAE1CC,EAAuBC,GAAQ,CACjC,MAAMC,EAAQD,EAAI,IAAIC,GAAS;AAAA;AAAA,mBAEhBA,EAAM,aAAa,iEAAiEA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,+EAE9DA,EAAM,KAAK;AAAA,+EACXA,EAAM,KAAK;AAAA,kFACRA,EAAM,QAAQ;AAAA,mFACbA,EAAM,SAAS;AAAA;AAAA,cAEpF,EAAE,KAAK,EAAE,EACnBP,EAAQ,mBAAmB,aAAcO,CAAK,EAC9CJ,EAAS,QAAO,CACpB,EACMK,EAAaC,GAAS,CACxBA,EAAK,MAAK,CACd,EAEMC,EAAeC,GAAU,CAC3BX,EAAQ,YAAc,GACtBA,EAAQ,mBAAmB,aAAc,8BAA8B,EACvEW,EAAM,eAAc,EACpB,MAAMC,EAAMX,EAAUU,EAAM,OAAO,SAAS,CAAC,EAAE,KAAK,EACpD,MAAMC,CAAG,EACJ,KAAMC,GAAQ,CACX,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACvB,CAAS,EACA,KAAMC,GAAW,CAEd,MAAMC,EAAYD,EAAO,KACzB,QAAQ,IAAIC,CAAS,EACjBA,EAAU,SAAW,IACrBf,EAAQ,YAAc,GACtBgB,EAAS,MAAM,CACf,MAAO,GACP,QAAS,2EACT,SAAU,UAC1B,CAAC,GAGWX,EAAoBU,CAAS,EAC7BP,EAAUT,CAAM,CAC5B,CAAS,EACA,MAAMkB,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC1C,EAIAlB,EAAO,iBAAiB,SAAUW,CAAW"}
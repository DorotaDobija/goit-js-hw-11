{"version":3,"file":"commonHelpers2.js","sources":["../src/page-2.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst formEl = document.querySelector(\"form\");\nconst gallery = document.querySelector(\".gallery\")\n\n\nconst createUrl = (value) => {\n    const params = new URLSearchParams({\n    key: \"35719926-181ab604ec6a85b118ffdb3f0\",\n    q: value,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n    per_page: 100,\n    });\n    \n    return `https://pixabay.com/api/?${params}`;\n}\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nconst createListItemToAdd = (arr) => {\n    const image = arr.map(image => `<li><a href=\"${image.largeImageURL}\"><img width=\"200px\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"></a></li>`).join('');\n    gallery.insertAdjacentHTML(\"afterbegin\", image);\n    lightbox.refresh();\n}\n\nconst sendRequest = (event) => {\n    gallery.textContent = \"\";\n    gallery.insertAdjacentHTML(\"afterbegin\", '<span class=\"loader\"></span>')\n    event.preventDefault();\n    const url = createUrl(event.target.elements[0].value);\n    fetch(url)\n        .then((res) => {\n            if (!res.ok) {\n                throw new Error(res.status)\n            }\n            return res.json();\n        })\n        .then((images) => {\n            const imagesArr = images.hits;\n            if (imagesArr.length === 0) {\n                iziToast.error({\n                title: '',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight'\n});\n            }\n            \n            createListItemToAdd(imagesArr);\n        })\n        .catch(error => console.log(error));\n}\n\n\n\nformEl.addEventListener(\"submit\", sendRequest)"],"names":["formEl","gallery","createUrl","value","lightbox","SimpleLightbox","createListItemToAdd","arr","image","sendRequest","event","url","res","images","imagesArr","iziToast","error"],"mappings":"2GAMA,MAAMA,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAU,SAAS,cAAc,UAAU,EAG3CC,EAAaC,GAUR,4BATQ,IAAI,gBAAgB,CACnC,IAAK,qCACL,EAAGA,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACd,CAAK,CAEwC,GAGvCC,EAAW,IAAIC,EAAe,YAAY,EAE1CC,EAAuBC,GAAQ,CACjC,MAAMC,EAAQD,EAAI,IAAIC,GAAS,gBAAgBA,EAAM,aAAa,6BAA6BA,EAAM,YAAY,UAAUA,EAAM,IAAI,aAAa,EAAE,KAAK,EAAE,EAC3JP,EAAQ,mBAAmB,aAAcO,CAAK,EAC9CJ,EAAS,QAAO,CACpB,EAEMK,EAAeC,GAAU,CAC3BT,EAAQ,YAAc,GACtBA,EAAQ,mBAAmB,aAAc,8BAA8B,EACvES,EAAM,eAAc,EACpB,MAAMC,EAAMT,EAAUQ,EAAM,OAAO,SAAS,CAAC,EAAE,KAAK,EACpD,MAAMC,CAAG,EACJ,KAAMC,GAAQ,CACX,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACvB,CAAS,EACA,KAAMC,GAAW,CACd,MAAMC,EAAYD,EAAO,KACrBC,EAAU,SAAW,GACrBC,EAAS,MAAM,CACf,MAAO,GACP,QAAS,2EACT,SAAU,UAC1B,CAAC,EAGWT,EAAoBQ,CAAS,CACzC,CAAS,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC1C,EAIAhB,EAAO,iBAAiB,SAAUS,CAAW"}